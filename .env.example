# ===========================================
# THOTH - Variables d'environnement
# ===========================================

# -------------------------------------------
# Application
# -------------------------------------------
APP_ENV=development
DEBUG=true
PROJECT_NAME="THOTH"
VERSION="2.0.0"

# -------------------------------------------
# Sécurité
# -------------------------------------------
# Generate a strong SECRET_KEY with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# CRITICAL: Change this in production!
SECRET_KEY=

# JWT Configuration
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# -------------------------------------------
# Base de données PostgreSQL
# -------------------------------------------
# For production, use strong passwords and consider using docker secrets
POSTGRES_USER=thoth
POSTGRES_PASSWORD=change_this_password_in_production
POSTGRES_DB=thoth_db
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# Alternative pour développement local sans Docker
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/thoth

# -------------------------------------------
# Redis (Cache & Queue)
# -------------------------------------------
REDIS_URL=redis://redis:6379/0

# -------------------------------------------
# Qdrant (Vector Database pour RAG)
# -------------------------------------------
QDRANT_URL=http://qdrant:6333
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=thoth_documents

# -------------------------------------------
# DeepSeek AI API
# -------------------------------------------
# OBLIGATOIRE : Obtenez votre clé sur https://platform.deepseek.com
DEEPSEEK_API_KEY=your-deepseek-api-key
DEEPSEEK_TIMEOUT=300
CHAT_MAX_TOKENS=4096

# -------------------------------------------
# CORS & Security
# -------------------------------------------
CORS_ORIGINS=http://localhost:3000,http://localhost:3020
ALLOWED_HOSTS=localhost,127.0.0.1

# -------------------------------------------
# Celery (Tâches asynchrones)
# -------------------------------------------
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# -------------------------------------------
# Rate Limiting
# -------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100

# -------------------------------------------
# Logging
# -------------------------------------------
LOG_LEVEL=INFO

# ===========================================
# Frontend (.env.local)
# ===========================================
# Note: Backend runs on port 8001 (mapped from internal 8000)
NEXT_PUBLIC_API_URL=http://localhost:8002/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8002/ws
